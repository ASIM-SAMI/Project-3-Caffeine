(this["webpackJsonpcaffeine-react"]=this["webpackJsonpcaffeine-react"]||[]).push([[0],{132:function(e,t,c){},152:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){},157:function(e,t,c){},158:function(e,t,c){},159:function(e,t,c){},160:function(e,t,c){},161:function(e,t,c){},162:function(e,t,c){},279:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),a=c.n(r),s=c(28),i=c.n(s),l=(c(132),c(6)),o=c(10),j=c(14),d=c(117),b=c(9),h=c.n(b),u=(c(151),c(152),c(153),c(154),c(155),c(156),c(94),c(157),c(158),c(159),c(160),c(161),c(162),c(292)),O=c(8),x=c(13),m=x.a({email:x.b().required(" Enter your email "),password:x.b().required(" Enter password ")});function p(e){var t=Object(j.f)(),c=Object(r.useState)({email:"",password:""}),a=Object(l.a)(c,2),s=a[0],i=(a[1],Object(r.useState)(!0)),d=Object(l.a)(i,2),b=d[0],x=d[1];return Object(n.jsxs)(n.Fragment,{children:[!b&&Object(n.jsx)(u.a,{variant:"danger",children:"Your email or password is wrong"}),Object(n.jsx)("div",{className:"cont",children:Object(n.jsxs)("div",{className:"form",children:[Object(n.jsx)("h3",{children:" Login "}),Object(n.jsx)(O.d,{initialValues:s,validationSchema:m,onSubmit:function(c){return function(c){h.a.post("http://localhost:5000/api/user/login",c).then((function(c){console.log("Express backend /login response",c);var n=c.data.token,r=c.data.msg;n?(localStorage.setItem("jwtToken",n),e.loginCallback(),t.push("/")):(console.log("Login error: ",r),x(!1),setTimeout((function(){x(!0)}),5e3))}))}(c)},children:Object(n.jsxs)(O.c,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)(O.b,{type:"email",className:"form-control",name:"email",placeholder:"Enter email"})]}),Object(n.jsx)(O.a,{name:"email",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)(O.b,{type:"password",name:"password",className:"form-control",placeholder:"Enter password"})]}),Object(n.jsx)(O.a,{name:"password",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsx)("button",{className:"btn",type:"submit",children:"Login"})]})}),Object(n.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(n.jsx)(o.b,{to:"/forgot",children:"password?"})]})]})})]})}var g=c(297),f=c(293),v=x.a({name:x.b().required(" Enter your name "),email:x.b().required(" Email is required "),password:x.b().required(" Enter your password ").min(8,"Your password must be at least 8 characters")});function y(e){var t=Object(j.f)(),c=Object(r.useState)({name:"",email:"",password:""}),a=Object(l.a)(c,2),s=a[0],i=(a[1],Object(r.useState)(!0)),o=Object(l.a)(i,2),d=o[0],b=o[1];return Object(n.jsxs)(n.Fragment,{children:[!d&&Object(n.jsx)(u.a,{variant:"danger",children:"This email is already exist"}),Object(n.jsx)("div",{className:"cont",children:Object(n.jsx)(O.d,{initialValues:s,validationSchema:v,onSubmit:function(e){return function(e){h.a.post("http://localhost:5000/api/user/register",e).then((function(e){e.data.user?t.push("/login"):(b(!1),setTimeout((function(){b(!0)}),3e3))})).catch((function(e){return console.log(e)}))}(e)},children:Object(n.jsxs)(g.a,{as:O.c,className:"form",children:[Object(n.jsx)("h3",{children:"Sign Up"}),Object(n.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsx)(g.a.Label,{children:"Name"}),Object(n.jsx)(g.a.Control,{as:O.b,placeholder:"Enter name",name:"name"})]}),Object(n.jsx)(O.a,{name:"name",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsx)(g.a.Label,{children:"Email address"}),Object(n.jsx)(g.a.Control,{as:O.b,name:"email",type:"email",placeholder:"Enter email"})]}),Object(n.jsx)(O.a,{name:"email",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsx)(g.a.Label,{children:"Password"}),Object(n.jsx)(g.a.Control,{as:O.b,type:"password",name:"password",placeholder:"Password"})]}),Object(n.jsx)(O.a,{name:"password",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsx)(f.a,{variant:"primary",type:"submit",children:"Sign up"})]})})})]})}var N=c(22),C=c(16);function S(e){var t=Object(j.f)(),c=Object(r.useState)({password:""}),a=Object(l.a)(c,2),s=a[0],i=a[1],o=function(e){var t=e.target,c=t.name,n=t.value;i(Object(C.a)(Object(C.a)({},s),{},Object(N.a)({},c,n)))};return Object(n.jsx)("div",{className:"cont",children:Object(n.jsx)("div",{className:"form",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("h3",{children:"Reset your password"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{onChange:function(e){return o(e)},type:"email",className:"form-control",name:"email",placeholder:"Enter email"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{onChange:function(e){return o(e)},type:"password",name:"password",className:"form-control",placeholder:"Enter password"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"confirm your password"}),Object(n.jsx)("input",{onChange:function(e){return o(e)},type:"password",name:"confirmPassword",className:"form-control",placeholder:"Enter password"})]}),Object(n.jsx)(f.a,{className:"btn",onClick:function(c){return c.preventDefault(),void h.a.post("http://localhost:5000/api/user/forgot",s).then((function(c){console.log("Express backend /forgot response",c);var n=c.data.token,r=c.data.msg;n?(localStorage.setItem("jwtToken",n),e.loginCallback(),t.push("/login")):console.log("Login error: ",r)}))},type:"submit",children:"Submit"})]})})})}var w=c(18),k=c(294),P=c(295),L=c(123);function F(e){var t=Object(j.g)().id,c=Object(r.useState)({}),a=Object(l.a)(c,2),s=a[0],i=a[1],d=Object(r.useState)(e.selectProduct),b=Object(l.a)(d,2),u=b[0],O=b[1],x=u.title,m=u.img,p=u.description,v=u.price,y=u.state,S=u.qty,F=e.auth.currentUser._id;console.log(s),Object(r.useEffect)((function(){x||h.a.get("http://localhost:5000/api/product/products").then((function(e){var c=e.data.find((function(e){return e._id==t}));O(c)}))}),[]);var I=Object(w.a)(Array(30)).map((function(e,t){return Object(n.jsx)("option",{children:t+1})}));return Object(n.jsx)("div",{children:Object(n.jsx)(k.a,{className:"mt-5 ShowOneProduct",children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(L.a,{md:"6",children:Object(n.jsx)("img",{width:"100%",src:m,alt:"",srcset:""})}),Object(n.jsxs)(L.a,{md:"6",children:[Object(n.jsx)("h1",{children:x}),Object(n.jsxs)("p",{children:[" ",p]}),Object(n.jsxs)("h3",{style:{color:"green"},children:["$",v]}),S?Object(n.jsx)("h5",{style:{color:"green"},children:"In Stock"}):Object(n.jsx)("h5",{style:{color:"red"},children:"Out of Stock"}),S?Object(n.jsx)("h6",{children:y}):Object(n.jsx)(n.Fragment,{}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Quantity"})}),Object(n.jsxs)(g.a.Control,{size:"sm",as:"select",name:"qty",onChange:function(e){return function(e){var t=e.target,c=t.name,n=t.value;i(Object(C.a)(Object(C.a)({},s),{},Object(N.a)({},c,n)))}(e)},className:"qty-drop-down",children:[Object(n.jsx)("option",{}),I]})]}),Object(n.jsx)(o.b,{to:"/products",children:Object(n.jsxs)(f.a,{onClick:function(){h.a.put("http://localhost:5000/api/user/".concat(F,"/").concat(u._id),s).then((function(e){console.log(e.data.msg)}))},variant:"secondary",size:"sm",className:"outline-light",children:["Add to cart"," "]})})]})]})})})}var I=c(300);function E(e){return Object(n.jsx)(n.Fragment,{children:e.product&&Object(n.jsx)(L.a,{md:"4",sm:"4",className:"mt-3",children:Object(n.jsx)(o.b,{onClick:function(){e.setSelectProduct(e.product)},className:"one-product",to:"/products/".concat(e.product._id),children:Object(n.jsxs)(I.a,{className:"product",children:[Object(n.jsx)(I.a.Img,{variant:"top",src:e.product.img,height:"300px",style:{margin:"auto",objectFit:"cover"}}),Object(n.jsxs)(I.a.Body,{className:"body-one-product",children:[Object(n.jsx)(I.a.Title,{children:e.product.title}),Object(n.jsxs)(I.a.Text,{children:[e.product.state,Object(n.jsx)("br",{}),Object(n.jsxs)("h5",{style:{color:"green"},className:"mt-2 text-center",children:["$ ",e.product.price," "]})]}),Object(n.jsx)(P.a,{children:Object(n.jsx)(L.a,{className:"btn-more-info-space"})})]})]})})})})}function A(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],i=e.search;console.log("search in product "+i),Object(r.useEffect)((function(){h.a.get("http://localhost:5000/api/product/products").then((function(e){s(e.data.msg)}))}),[]);var o=a.map((function(t){return Object(n.jsx)(E,{product:t,setSelectProduct:e.setSelectProduct})}));""!==i&&(o=a.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})).map((function(t){return Object(n.jsx)(E,{product:t,setSelectProduct:e.setSelectProduct})})));return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"allProducts",children:Object(n.jsx)("div",{children:Object(n.jsx)(k.a,{className:"Products",children:Object(n.jsx)(P.a,{className:"justify-content-md-center",style:{margin:"10px"},children:o})})})})})}var T=c(82),_=c.n(T);function q(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1];Object(r.useEffect)((function(){h.a.get("http://localhost:5000/api/article/").then((function(e){s(e.data.msg)}))}),[]);var i=a.map((function(t,c){if(c<3)return Object(n.jsx)(o.b,{onClick:function(){e.oneArticleViews(t._id),e.setSelectArticle(t)},to:"/".concat(t._id,"/article"),style:{textDecoration:"none"},children:Object(n.jsxs)("div",{className:"art",style:{backgroundImage:"url(".concat(t.img,")"),backgroundSize:"cover"},children:[Object(n.jsx)("div",{class:"img-artcile-shadow"}),Object(n.jsx)("div",{style:{width:"100%",hight:"40%",position:"absolute",bottom:"0",margin:"0px 0px 0px 5px"},children:Object(n.jsx)("p",{className:"art-title",children:t.title})})]})})}));return Object(n.jsx)("div",{className:"Home",children:Object(n.jsxs)(k.a,{fluid:!0,className:"container-section-ov",children:[Object(n.jsx)(P.a,{children:Object(n.jsxs)("div",{className:"header-img",children:[Object(n.jsx)("div",{class:"img-shadow"}),Object(n.jsx)("h1",{children:"Welcome to caffeine website!"})]})}),Object(n.jsx)(P.a,{children:Object(n.jsx)("div",{className:"article-header",children:Object(n.jsxs)(o.b,{to:"/articles",style:{textDecoration:"none"},children:[" ",Object(n.jsx)("h1",{children:"Articles"})," "]})})}),Object(n.jsx)(P.a,{children:Object(n.jsx)("div",{className:"article-section",children:i})}),Object(n.jsx)(P.a,{children:Object(n.jsx)("div",{className:"article-header",children:Object(n.jsxs)(o.b,{to:"/articles",style:{textDecoration:"none"},children:[" ",Object(n.jsx)("h1",{children:"Articles"})," "]})})}),Object(n.jsx)(P.a,{children:Object(n.jsx)("div",{className:"article-section",children:i})})]})})}var B=x.a({title:x.b().required(" This field is required "),description:x.b().required(" This field is required "),img:x.b().required(" Product Image is required "),price:x.b().required("Product price is required "),state:x.b().required("You must choose one "),qty:x.b().required("Quantity is required at least one")});function D(e){var t,c=Object(j.f)(),r=Object(w.a)(Array(30)).map((function(e,t){return Object(n.jsx)("option",{children:t+1})}));return e.auth.isLoggedIn?Object(n.jsx)("div",{className:"NewProduct",children:Object(n.jsx)(O.d,{initialValues:{title:"",description:"",img:"",price:"",state:"",qty:""},validationSchema:B,onSubmit:function(e){return function(e){h.a.post("http://localhost:5000/api/product/new-product",e).then((function(e){c.push("/products")})).catch((function(e){return console.log(e)}))}(e)},children:Object(n.jsxs)(g.a,{as:O.c,className:"form",children:[Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Product Name"})}),Object(n.jsx)(g.a.Control,{as:O.b,type:"text",placeholder:"Philips Series 3200 Fully Automatic Espresso Machine",name:"title"})]}),Object(n.jsx)(O.a,{name:"title",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Description"})}),Object(n.jsx)(g.a.Control,{as:O.b,rows:10,name:"description"})]}),Object(n.jsx)(O.a,{name:"description",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Image"})}),Object(n.jsx)(g.a.Control,{as:O.b,type:"text",placeholder:"http://",name:"img"})]}),Object(n.jsx)(O.a,{name:"img",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Price"})}),Object(n.jsx)(g.a.Control,{as:O.b,type:"text",placeholder:"Product Price",name:"price"})]}),Object(n.jsx)(O.a,{name:"price",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"State"})})," ",Object(n.jsx)("br",{}),Object(n.jsxs)(O.b,{size:"mm",as:"select",name:"state",placeholder:"http://",children:[Object(n.jsx)("option",{}),Object(n.jsx)("option",{children:"New"}),Object(n.jsx)("option",{children:"Like New"}),Object(n.jsx)("option",{children:"Used"})]})]}),Object(n.jsx)(O.a,{name:"state",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Quantity"})})," ",Object(n.jsx)("br",{}),Object(n.jsxs)(O.b,(t={as:O.b,size:"sm"},Object(N.a)(t,"as","select"),Object(N.a)(t,"name","qty"),Object(N.a)(t,"className","qty-drop-down"),Object(N.a)(t,"children",[Object(n.jsx)("option",{}),r]),t))]}),Object(n.jsx)(O.a,{name:"qty",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsx)("br",{}),Object(n.jsx)(f.a,{variant:"secondary",type:"submit",size:"sm",children:"Add New Product"})]})})}):Object(n.jsx)(j.b,{children:Object(n.jsx)(j.a,{to:"/login"})})}var H=c(296);function U(e){var t=e.product.oneProduct;console.log("aaa",t.qty);var c=Object(w.a)(Array(30)).map((function(e,t){return Object(n.jsx)("option",{children:t+1})}));return Object(n.jsx)(n.Fragment,{children:e.product&&Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsxs)("div",{className:"OneCardProduct",children:[Object(n.jsx)("div",{children:Object(n.jsx)(o.b,{to:"products/".concat(t.id._id),children:Object(n.jsx)("img",{src:t.id.img,alt:""})})}),Object(n.jsxs)("div",{children:[" ",Object(n.jsx)(o.b,{to:"products/".concat(t.id._id),children:Object(n.jsx)("p",{className:"ex1",children:t.id.title})})," "]}),Object(n.jsxs)("div",{className:"price",children:["  SAR",t.id.price,"   "]}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",style:{display:"flex"},children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{style:{marginRight:"15px"},children:"qty:"})}),Object(n.jsxs)(g.a.Control,{size:"sm",as:"select",name:"qty",className:"qty-drop-down",children:[Object(n.jsx)("option",{children:t.qty}),c]})]}),Object(n.jsx)("div",{children:e.delete&&Object(n.jsx)(o.b,{onClick:function(){return e.deleteProduct(t.id._id)},to:"/cart",children:"Delete"})})]})})})}function z(e){var t=e.auth.currentUser,c=(t.name,t.email,t.products,t._id),s=Object(r.useState)([]),i=Object(l.a)(s,2),o=i[0],j=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),u=b[0],O=b[1],x=a.a.useState(!1),m=Object(l.a)(x,2),p=m[0],g=m[1],v=Object(r.useState)(!1),y=Object(l.a)(v,2),N=y[0],S=y[1],w=Object(r.useState)(!1),k=Object(l.a)(w,2),P=k[0],L=k[1],F=Object(r.useState)({}),I=Object(l.a)(F,2),E=I[0],A=I[1],T=function(){return S(!1)},_=c,q=_.substr(_.length-15);Object(r.useEffect)((function(){h.a.get("http://localhost:5000/api/user/".concat(c,"/cart")).then((function(e){e.data.user.products==[]?L(!1):L(!0),j(e.data.user.products),console.log(e.data.user.products)}))}),[u]);var B=function(e){h.a.delete("http://localhost:5000/api/user/".concat(_,"/cart/").concat(e)).then((function(e){O(!u),console.log("cart page",e)}))},D=[];o.forEach((function(e){D.includes(e)||D.push(e)}));var z=o.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(U,{deleteProduct:B,product:e,delete:!0}),Object(n.jsxs)("div",{children:[" ",Object(n.jsx)("hr",{})]})," "]})})),G=o.map((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("li",{children:e.oneProduct.id.title})})}));function V(e){return Object(n.jsxs)(H.a,Object(C.a)(Object(C.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(H.a.Header,{closeButton:!0,children:Object(n.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",style:{color:"green"},children:"Thank you for shopping with us."})}),Object(n.jsxs)(H.a.Body,{children:[Object(n.jsxs)("h5",{children:[Object(n.jsx)("b",{children:"Order number:"})," ",q]}),Object(n.jsx)("ul",{children:G}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Estimated delivery:"})," 28 Jun 2021 -30 Jun 2021."]})]}),Object(n.jsx)(H.a.Footer,{children:Object(n.jsx)(f.a,{variant:"secondary",onClick:e.onHide,children:"Close"})})]}))}return Object(n.jsx)("div",{className:"Cart",children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"left"},children:[Object(n.jsx)("h1",{style:{margin:"30px",fontSize:"2em"},children:"Shopping Cart"}),Object(n.jsxs)("div",{children:[" ",Object(n.jsx)("hr",{})]}),z,Object(n.jsxs)("p",{className:"total",children:[" Total :",function(e){var t=0;return o.forEach((function(e){t+=parseInt(e.oneProduct.id.price),console.log("product",e)})),t}()," "]}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"100px"},children:P?Object(n.jsx)(f.a,{variant:"secondary",onClick:function(){return S(!0)},children:"Checkout"}):Object(n.jsx)(n.Fragment,{})}),Object(n.jsxs)(H.a,{show:N,onHide:T,backdrop:"static",keyboard:!1,children:[Object(n.jsx)(H.a.Header,{closeButton:!0,children:Object(n.jsx)(H.a.Title,{children:"Confirm Order"})}),Object(n.jsx)(H.a.Body,{children:"Payment is ready! confirm to continuo."}),Object(n.jsxs)(H.a.Footer,{children:[Object(n.jsx)(f.a,{variant:"secondary",onClick:T,children:"Close"}),Object(n.jsx)(f.a,{variant:"secondary",onClick:function(){T(),console.log("asim"),h.a.delete("http://localhost:5000/api/user/cart/delete-order/".concat(_)).then((function(e){O(!u),L(!1),console.log("order-deleted",e),setTimeout((function(){g(!0),A(e),console.log("order",E)}),100)}))},children:"Confirm"})]})]}),Object(n.jsx)(V,{show:p,onHide:function(){return g(!1)}})]})})}var G=x.a({title:x.b().required(" Title is required "),content:x.b().required(" Aticle content is required "),img:x.b().required(" Image for article is required ")});function V(e){var t=Object(r.useState)({title:"",content:"",img:""}),c=Object(l.a)(t,2),a=c[0],s=(c[1],Object(j.f)());return e.auth.isLoggedIn?Object(n.jsx)("div",{className:"NewProduct",children:Object(n.jsx)(O.d,{initialValues:a,validationSchema:G,onSubmit:function(t){return function(t){h.a.post("http://localhost:5000/api/article/new-article",Object(C.a)(Object(C.a)({},t),{},{id:e.auth.currentUser._id})).then((function(e){s.push("/articles")})).catch((function(e){return console.log(e)}))}(t)},children:Object(n.jsxs)(g.a,{as:O.c,className:"form",children:[Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Article Title"})}),Object(n.jsx)(g.a.Control,{as:O.b,type:"text",placeholder:"Type the title of article",name:"title"})]}),Object(n.jsx)(O.a,{name:"title",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Article"})}),Object(n.jsx)(g.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(n.jsx)(O.b,{as:"textarea",cols:70,rows:10,name:"content"})}),Object(n.jsx)(O.a,{name:"content",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsxs)(g.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(g.a.Label,{children:Object(n.jsx)("b",{children:"Image"})}),Object(n.jsx)(g.a.Control,{as:O.b,type:"text",placeholder:"http://",name:"img"})]}),Object(n.jsx)(O.a,{name:"img",render:function(e){return Object(n.jsx)(u.a,{variant:"danger",children:e})}}),Object(n.jsx)("br",{}),Object(n.jsx)(f.a,{className:"btn-add-product",type:"submit",variant:"secondary",size:"sm",children:"Add to articles"})]})})}):Object(n.jsx)(j.b,{children:Object(n.jsx)(j.a,{to:"/login"})})}function R(e){var t=Object(j.f)(),c=Object(j.g)().article_id,a=Object(r.useState)(e.selectArtcile),s=Object(l.a)(a,2),i=s[0],o=s[1],d=i.title,b=i.img,u=i.content,O=i.createdAt,x=Object(r.useState)(!1),m=Object(l.a)(x,2),p=m[0],g=m[1],v=function(){return g(!1)},y=Object(r.useState)(!1),S=Object(l.a)(y,2),w=S[0],k=S[1],P=function(){return k(!1)},L=Object(r.useState)({title:i.title,content:i.content,img:i.img}),F=Object(l.a)(L,2),I=F[0],E=F[1],A=i._id,T=new Date(O),_=T.getFullYear(),q=T.getMonth()+1,B=T.getDate();B<10&&(B="0"+B),q<10&&(q="0"+q);var D=_+"-"+q+"-"+B;Object(r.useEffect)((function(){d||h.a.get("http://localhost:5000/api/article/").then((function(e){var t=e.data.msg.find((function(e){return e._id==c}));o(t),console.log(e.data)}))}),[]);var U=function(e){console.log("event",e.target);var t=e.target,c=t.name,n=t.value;E(Object(C.a)(Object(C.a)({},I),{},Object(N.a)({},c,n))),console.log(I)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"ShowOneArticle",style:{width:"50%",height:"500px",margin:"0 auto"},children:[Object(n.jsx)("h1",{children:d}),Object(n.jsxs)("p",{children:["created at ",D,"  views: ",i.views]}),Object(n.jsx)("hr",{}),Object(n.jsx)("img",{style:{height:"500px",width:"100%"},src:b,alt:""}),Object(n.jsx)("p",{children:u}),e.auth.isLoggedIn?Object(n.jsxs)(n.Fragment,{children:[e.auth.currentUser._id===i.user._id?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{className:"float-right",variant:"outline-warning",onClick:function(){return g(!0)},children:"Delete"}),Object(n.jsx)(f.a,{className:"mr-5 float-right",variant:"outline-info",onClick:function(){return k(!0)},children:"EDit"}),Object(n.jsxs)(H.a,{show:p,onHide:v,children:[Object(n.jsx)(H.a.Header,{closeButton:!0,children:Object(n.jsx)(H.a.Title,{children:"Confirm Delete"})}),Object(n.jsx)(H.a.Body,{children:"Are you sure you want to delete this article"}),Object(n.jsxs)(H.a.Footer,{children:[Object(n.jsx)(f.a,{variant:"secondary",onClick:v,children:"Close"}),Object(n.jsx)(f.a,{variant:"primary",onClick:function(){return function(e){h.a.delete("http://localhost:5000/api/article/".concat(e)).then((function(e){t.push("/articles")}))}(A)},children:"Delete"})]})]}),Object(n.jsxs)(H.a,{size:"lg",show:w,onHide:P,children:[Object(n.jsx)(H.a.Header,{closeButton:!0,children:Object(n.jsx)(H.a.Title,{children:"Edit Article"})}),Object(n.jsxs)(H.a.Body,{children:[Object(n.jsx)("input",{type:"text",name:"title",size:"80",defaultValue:i.title,onChange:function(e){return U(e)}})," ",Object(n.jsx)("br",{})," ",Object(n.jsx)("br",{}),Object(n.jsx)("textarea",{rows:"8",cols:"80",type:"text",name:"content",defaultValue:i.content,onChange:function(e){return U(e)}})," ",Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",size:"80",name:"img",defaultValue:i.img,onChange:function(e){return U(e)}})]}),Object(n.jsxs)(H.a.Footer,{children:[Object(n.jsx)(f.a,{variant:"secondary",onClick:P,children:"Close"}),Object(n.jsx)(f.a,{variant:"primary",onClick:function(){return function(c){console.log(i),h.a.put("http://localhost:5000/api/article/".concat(c,"/edit"),Object(C.a)(Object(C.a)({},I),{},{id:e.auth.currentUser._id})).then((function(e){t.push("/articles")}))}(A)},children:"Edit"})]})]})]}):Object(n.jsx)(n.Fragment,{})," "]}):Object(n.jsx)(n.Fragment,{})]})})}function Y(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1];Object(r.useEffect)((function(){h.a.get("http://localhost:5000/api/article/").then((function(e){s(e.data.msg)}))}),[]);var i=a.map((function(t){return Object(n.jsx)(o.b,{onClick:function(){e.oneArticleViews(t._id),e.setSelectArticle(t)},to:"/".concat(t._id,"/article"),style:{textDecoration:"none"},children:Object(n.jsxs)("div",{className:"article-content",children:[Object(n.jsx)("img",{src:t.img,alt:""}),Object(n.jsx)("h1",{children:t.title}),Object(n.jsx)(_.a,{className:"content",text:t.content,maxLine:"3",ellipsis:"....  (Read More)",trimRight:!0})]})})}));return Object(n.jsx)("div",{className:"Articles",children:Object(n.jsx)(k.a,{fluid:!0,className:"article-container-section",children:Object(n.jsx)(P.a,{children:Object(n.jsx)("div",{className:"article-page",children:i})})})})}c(271);function M(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)([]),j=Object(l.a)(i,2),d=j[0],b=j[1],u=Object(r.useState)([]),O=Object(l.a)(u,2),x=O[0],m=O[1],p=Object(r.useState)(!1),g=Object(l.a)(p,2),f=g[0],v=g[1];Object(r.useEffect)((function(){h.a.get("http://localhost:5000/api/article/").then((function(e){s(e.data.msg)})),h.a.get("http://localhost:5000/api/product/products").then((function(e){b(e.data.msg)})),h.a.get("http://localhost:5000/api/admin/users").then((function(e){m(e.data.msg)}))}),[f]);var y=a.map((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"content-container",children:[Object(n.jsx)("img",{src:e.img,alt:""}),Object(n.jsx)("h5",{className:"container-title",children:e.title}),Object(n.jsx)("p",{className:"admin-delete-btn",onClick:function(){return function(e){var t=e._id;h.a.delete("http://localhost:5000/api/article/".concat(t)).then((function(e){v(!f)}))}(e)},children:"X"})]})})})),N=d.map((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"content-container",children:[Object(n.jsx)("img",{src:e.img,alt:""}),Object(n.jsx)("h5",{className:"container-title",children:e.title}),Object(n.jsx)("p",{className:"admin-delete-btn",onClick:function(){return function(e){console.log(e._id);var t=e._id;h.a.delete("http://localhost:5000/api/admin/".concat(t)).then((function(e){v(!f)}))}(e)},children:"X"})]})})})),C=x.map((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"content-container",children:[Object(n.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:""}),Object(n.jsxs)("h5",{className:"container-title",children:["Name: ",e.name,", Email: ",e.email]}),Object(n.jsx)("p",{className:"admin-delete-btn",onClick:function(){return function(e){console.log(e._id);var t=e._id;h.a.delete("http://localhost:5000/api/admin/".concat(t,"/deleteuser")).then((function(e){v(!f)}))}(e)},children:"X"})]})})}));return e.auth.isLoggedIn?e.auth.currentUser.isAdmin?Object(n.jsxs)("div",{className:"dashboard-container ",children:[Object(n.jsx)("h1",{children:"Articles"}),Object(n.jsx)("div",{className:"admin-container",children:y})," ",Object(n.jsx)("br",{}),Object(n.jsx)("h1",{children:"Products"}),Object(n.jsx)("div",{className:"admin-container",children:N})," ",Object(n.jsx)("br",{}),Object(n.jsx)("h1",{children:"Users"}),Object(n.jsx)("div",{className:"admin-container",children:C})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{class:"alert alert-warning",role:"alert",children:[Object(n.jsx)("strong",{children:"Oh !!!"})," ",Object(n.jsx)(o.b,{to:"/",class:"alert-link",children:"You dont have permission"}),"  to access this page."]})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{class:"alert alert-danger",role:"alert",children:[Object(n.jsx)("strong",{children:"Oh !!!"})," ",Object(n.jsx)(o.b,{to:"/login",class:"alert-link",children:"You have to login first"})," and try submitting again."]})})}function J(e){var t=e.auth.currentUser,c=t.name,r=t.email;t._id;return Object(n.jsx)("div",{className:"cont",children:Object(n.jsx)("div",{className:"form",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("h3",{children:"My Profile"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Image:  "}),"\xa0  ",Object(n.jsx)("input",{type:"file"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name:  "}),Object(n.jsxs)("label",{children:[" \xa0 ",c," "]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email address: "}),Object(n.jsxs)("label",{children:[" \xa0 ",r," "]})]})]})})})}var K=c(299),W=c(298),Q=c(125),X=c.n(Q);function $(e){var t=Object(r.useState)(""),c=Object(l.a)(t,2);c[0],c[1];return Object(n.jsx)("div",{className:"NavBar",children:Object(n.jsxs)(K.a,{className:"navbar",variant:"dark",children:[Object(n.jsx)(K.a.Brand,{as:o.b,to:"/",onClick:function(){e.setProductPage(!1),e.setArticlePage(!1)},children:"Caffeine"}),Object(n.jsxs)(W.a,{className:"mr-auto",children:[Object(n.jsx)(W.a.Link,{as:o.b,to:"/",onClick:function(){e.setProductPage(!1),e.setArticlePage(!1)},children:"Home"}),Object(n.jsx)(W.a.Link,{as:o.b,to:"/products",onClick:function(){e.setProductPage(!0),e.setArticlePage(!1)},children:"Products"}),Object(n.jsx)(W.a.Link,{as:o.b,to:"/articles",onClick:function(){e.setProductPage(!1),e.setArticlePage(!0)},children:"Articles"}),Object(n.jsx)("input",{type:"text",name:"search",placeholder:"Search",onChange:function(t){e.ToSetSearch(t.target.value)}})]}),Object(n.jsx)(W.a,{style:{float:"right"},children:e.isLoggedIn?Object(n.jsxs)(n.Fragment,{children:[e.articlePage?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(W.a.Link,{as:o.b,to:"/new-article",children:"Add New Article"})}):Object(n.jsx)(n.Fragment,{}),e.productPage?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(W.a.Link,{as:o.b,to:"/new-product",children:" Add New Product "})}):Object(n.jsx)(n.Fragment,{}),Object(n.jsxs)(W.a.Link,{as:o.b,to:"/cart",onClick:function(){e.setProductPage(!1),e.setArticlePage(!1)},children:["  ",Object(n.jsx)(X.a,{style:{marginTop:"6px",marginRight:"15px",fontSize:"25px",color:"#7d8179"}})," "]}),Object(n.jsx)(f.a,{variant:"dark",onClick:function(){console.log("Logging Out!"),localStorage.removeItem("jwtToken"),e.loginCallback()},children:"Logout"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(W.a.Link,{as:o.b,to:"/login",children:"Login"}),Object(n.jsx)(W.a.Link,{as:o.b,to:"/signup",children:"Signup"})]})})]})})}function Z(){var e=a.a.useState(!1),t=Object(l.a)(e,2),c=t[0],r=t[1];function s(e){return Object(n.jsxs)(H.a,Object(C.a)(Object(C.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(H.a.Header,{closeButton:!0,children:Object(n.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Horizon Team"})}),Object(n.jsxs)(H.a.Body,{children:[Object(n.jsx)("p",{children:"This site created by \xa9 Horizon Team  2021-1 "}),Object(n.jsx)("h5",{children:"Members:"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("h6",{children:"Asim Sami"}),Object(n.jsx)("a",{href:"#",children:"Linked In"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"#",children:"Github"}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("h6",{children:"Name2"}),Object(n.jsx)("a",{href:"#",children:"Linked In"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"#",children:"Github"}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("h6",{children:"Name3"}),Object(n.jsx)("a",{href:"#",children:"Linked In"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"#",children:"Github"}),Object(n.jsx)("br",{})]})]})]}),Object(n.jsx)(H.a.Footer,{children:Object(n.jsx)(f.a,{variant:"secondary",onClick:e.onHide,children:"Close"})})]}))}return Object(n.jsxs)("div",{className:"Footer",children:[Object(n.jsx)(K.a,{className:"navbar footer-bar",variant:"dark",children:Object(n.jsx)(k.a,{children:Object(n.jsxs)(W.a,{className:"mr-auto nav-bar-elements",children:[Object(n.jsx)(W.a.Link,{href:"#home",onClick:function(){return r(!0)},children:"Contact Us"}),Object(n.jsx)(W.a.Link,{href:"#features"}),Object(n.jsx)(W.a.Link,{href:"#pricing"})]})})}),Object(n.jsx)(s,{show:c,onHide:function(){return r(!1)}})]})}var ee=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)({currentUser:null,isLoggedIn:!1}),i=Object(l.a)(s,2),b=i[0],u=i[1],O=Object(r.useState)({}),x=Object(l.a)(O,2),m=x[0],g=x[1],f=Object(r.useState)({}),v=Object(l.a)(f,2),N=v[0],C=v[1],w=Object(r.useState)(!1),k=Object(l.a)(w,2),P=k[0],L=k[1],I=Object(r.useState)(!1),E=Object(l.a)(I,2),T=E[0],_=E[1],B=Object(r.useState)(""),H=Object(l.a)(B,2),U=(H[0],H[1]),G=Object(r.useState)(""),K=Object(l.a)(G,2),W=K[0],Q=K[1];function X(e){console.log("i recived ",e),h.a.put("http://localhost:5000/api/article//views/".concat(e)).then((function(e){U("done")})),console.log("search in app"+W)}var ee=function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=Object(d.a)(e,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SECRET_KEY).user;u({currentUser:t,isLoggedIn:!0})}else u({currentUser:null,isLoggedIn:!1});a(!0),console.log("The current User is: ",b.currentUser)};return Object(r.useEffect)(ee,[]),Object(n.jsx)("div",{className:"",children:c&&Object(n.jsxs)(o.a,{children:[Object(n.jsx)($,{isLoggedIn:b.isLoggedIn,loginCallback:ee,setArticlePage:L,articlePage:P,setProductPage:_,productPage:T,ToSetSearch:function(e){Q(e)}}),Object(n.jsx)(j.b,{exact:!0,path:"/",children:Object(n.jsx)(q,{setSelectArticle:C,oneArticleViews:X})}),Object(n.jsx)(j.b,{exact:!0,path:"/login",children:Object(n.jsx)(p,{loginCallback:ee})}),Object(n.jsx)(j.b,{exact:!0,path:"/signup",children:Object(n.jsx)(y,{loginCallback:ee})}),Object(n.jsx)(j.b,{exact:!0,path:"/forgot",children:Object(n.jsx)(S,{loginCallback:ee})}),Object(n.jsx)(j.b,{exact:!0,path:"/new-product",children:Object(n.jsx)(D,{setAuth:u,auth:b})}),Object(n.jsx)(j.b,{path:"/products/:id",children:Object(n.jsx)(F,{selectProduct:m,auth:b})}),Object(n.jsx)(j.b,{exact:!0,path:"/products",children:Object(n.jsx)(A,{setSelectProduct:g,search:W})}),Object(n.jsx)(j.b,{exact:!0,path:"/cart",children:Object(n.jsx)(z,{auth:b})}),Object(n.jsx)(j.b,{path:"/new-article",children:Object(n.jsx)(V,{setAuth:u,auth:b})}),Object(n.jsx)(j.b,{path:"/:article_id/article",children:Object(n.jsx)(R,{selectArtcile:N,auth:b})}),Object(n.jsx)(j.b,{path:"/articles",children:Object(n.jsx)(Y,{setSelectArticle:C,oneArticleViews:X})}),Object(n.jsx)(j.b,{path:"/admin",children:Object(n.jsx)(M,{auth:b})}),Object(n.jsx)(j.b,{exact:!0,path:"/profile",children:Object(n.jsx)(J,{setAuth:u,auth:b})}),Object(n.jsx)(Z,{})]})})},te=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,301)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(ee,{})}),document.getElementById("root")),te()},94:function(e,t,c){}},[[279,1,2]]]);
//# sourceMappingURL=main.a98de5df.chunk.js.map